{% extends 'base.html' %}
{% load static %}
{% load form_tags %}

{% block title %}Supply Unlimited{% endblock %}

{% block auth_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<script>
// Clear all localStorage/sessionStorage when on login page to prevent showing cached user data
(function() {
    localStorage.clear();
    sessionStorage.clear();
})();
</script>
{% endblock %}

{% block content %}
<div class="main-container">

    <!-- LEFT SIDE -->
    <div class="brand-section">
        <div class="brand-content">
            <h1 class="brand-title">Supply Unlimited</h1>
            <p class="brand-subtitle">Your one-stop shop for all supplies</p>
            <div class="logo-container">
                <svg viewBox="0 0 200 200" class="logo-svg" xmlns="http://www.w3.org/2000/svg">
                    <g class="ellipse-group-1">
                        <ellipse cx="100" cy="100" rx="85" ry="50" fill="none" stroke="rgba(34, 197, 94, 0.4)" stroke-width="2"/>
                        <circle cx="185" cy="100" r="4" fill="#22c55e"/>
                        <circle cx="100" cy="150" r="4" fill="#22c55e"/>
                        <circle cx="15" cy="100" r="4" fill="#22c55e"/>
                        <circle cx="100" cy="50" r="4" fill="#22c55e"/>
                    </g>
                    <g class="ellipse-group-2">
                        <ellipse cx="100" cy="100" rx="85" ry="50" fill="none" stroke="rgba(34, 197, 94, 0.4)" stroke-width="2"/>
                        <circle cx="185" cy="100" r="4" fill="#16a34a"/>
                        <circle cx="100" cy="150" r="4" fill="#16a34a"/>
                        <circle cx="15" cy="100" r="4" fill="#16a34a"/>
                        <circle cx="100" cy="50" r="4" fill="#16a34a"/>
                    </g>
                    <circle cx="100" cy="100" r="40" fill="white" stroke="#22c55e" stroke-width="3"/>
                    <text x="100" y="100" text-anchor="middle" dominant-baseline="central" font-size="32" font-weight="bold" fill="#16a34a">SU</text>
                </svg>
            </div>
        </div>
    </div>

    <!-- RIGHT SIDE -->
    <div class="form-section">
        <div class="form-container">
            <h2 class="form-title">Sign in to your account</h2>
            {% if form.non_field_errors %}
                <div class="error-box">
                    {% for error in form.non_field_errors %}
                        <p class="error-message">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
            <form method="POST" action="{% url 'login' %}">
                {% csrf_token %}
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" name="username" class="form-input" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" name="password" class="form-input" placeholder="Enter your password" required>
                </div>
                <div class="form-check">
                    <input type="checkbox" id="remember" name="remember">
                    <label for="remember">Remember me</label>
                </div>
                <button type="submit" class="submit-button">Sign In</button>
            </form>
            <p class="form-footer">
                Don't have an account? <a href="{% url 'register' %}">Create one here</a>
            </p>
        </div>
    </div>

</div>

<footer class="bottom-bar">
    Supply Unlimitedâ„¢, 2025 - All rights reserved
</footer>
{% endblock %}
